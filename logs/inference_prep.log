2025-02-25 00:19:43 - INFO - Logging has been set up successfully.
2025-02-25 00:19:43 - INFO - Starting main function...
2025-02-25 00:19:43 - INFO - Mode: train
2025-02-25 00:19:43 - INFO - Starting build_catboost_model: Training CatBoost Models -- 20 total
2025-02-25 00:19:46 - INFO - Shape of historical Pandas DF: (774750, 126)
2025-02-25 00:19:46 - INFO - Shape of historical Pandas DF: (774750, 127)
2025-02-25 00:19:47 - INFO - train_data - horse_id and group_id combination unique: True
2025-02-25 00:19:47 - INFO - valid_data - horse_id and group_id combination unique: True
2025-02-25 00:19:47 - INFO - holdout_data - horse_id and group_id combination unique: True
2025-02-25 00:19:47 - INFO - Trial 6 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 00:21:16 - INFO - Trial 7 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 00:22:23 - INFO - Trial 8 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 00:22:34 - INFO - Trial 9 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1500
2025-02-25 00:22:54 - INFO - Trial 10 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 00:23:13 - INFO - Trial 11 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 00:24:15 - INFO - Trial 12 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 00:25:00 - INFO - Trial 13 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3600
2025-02-25 00:26:07 - INFO - Trial 14 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3800
2025-02-25 00:26:31 - INFO - Trial 15 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2600
2025-02-25 00:27:07 - INFO - Trial 16 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 00:27:45 - INFO - Trial 17 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4800
2025-02-25 00:29:26 - INFO - Trial 18 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4000
2025-02-25 00:29:30 - INFO - Trial 19 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 00:29:56 - INFO - Trial 20 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 00:30:13 - INFO - Trial 21 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 00:30:56 - INFO - Trial 22 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2500
2025-02-25 00:32:08 - INFO - Trial 23 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 00:33:22 - INFO - Trial 24 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 00:34:44 - INFO - Trial 25 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1700
2025-02-25 00:34:52 - INFO - Trial 26 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=5000
2025-02-25 00:36:07 - INFO - Trial 27 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 00:36:57 - INFO - Trial 28 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 00:37:32 - INFO - Trial 29 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2900
2025-02-25 00:39:26 - INFO - Trial 30 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3700
2025-02-25 00:39:38 - INFO - Trial 31 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1200
2025-02-25 00:39:45 - INFO - Trial 32 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1500
2025-02-25 00:39:54 - INFO - Trial 33 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1500
2025-02-25 00:40:00 - INFO - Trial 34 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 00:42:11 - INFO - Trial 35 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1700
2025-02-25 00:42:40 - INFO - Trial 36 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1000
2025-02-25 00:43:17 - INFO - Trial 37 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2300
2025-02-25 00:43:21 - INFO - Trial 38 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1800
2025-02-25 00:43:50 - INFO - Trial 39 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2700
2025-02-25 00:43:54 - INFO - Trial 40 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3400
2025-02-25 00:44:15 - INFO - Trial 41 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1400
2025-02-25 00:44:42 - INFO - Trial 42 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 00:45:11 - INFO - Trial 43 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 00:45:24 - INFO - Trial 44 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3500
2025-02-25 00:47:01 - INFO - Trial 45 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4000
2025-02-25 00:50:51 - INFO - Trial 46 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 00:51:33 - INFO - Trial 47 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4700
2025-02-25 00:52:27 - INFO - Trial 48 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3900
2025-02-25 00:53:40 - INFO - Trial 49 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 00:57:33 - INFO - Trial 50 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 00:57:38 - INFO - Trial 51 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 00:58:35 - INFO - Trial 52 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3600
2025-02-25 00:59:27 - INFO - Trial 53 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2700
2025-02-25 01:00:07 - INFO - Trial 54 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 01:01:01 - INFO - Trial 55 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2000
2025-02-25 01:01:36 - INFO - Trial 56 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2900
2025-02-25 01:02:26 - INFO - Trial 57 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 01:03:06 - INFO - Trial 58 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4600
2025-02-25 01:04:34 - INFO - Trial 59 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3800
2025-02-25 01:05:13 - INFO - Trial 60 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2600
2025-02-25 01:05:20 - INFO - Trial 61 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3400
2025-02-25 01:05:52 - INFO - Trial 62 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 01:06:18 - INFO - Trial 63 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1500
2025-02-25 01:06:53 - INFO - Trial 64 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1000
2025-02-25 01:07:14 - INFO - Trial 65 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=5000
2025-02-25 01:08:05 - INFO - Trial 66 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1200
2025-02-25 01:08:31 - INFO - Trial 67 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 01:09:38 - INFO - Trial 68 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1300
2025-02-25 01:10:19 - INFO - Trial 69 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1800
2025-02-25 01:10:53 - INFO - Trial 70 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2500
2025-02-25 01:11:44 - INFO - Trial 71 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1600
2025-02-25 01:12:11 - INFO - Trial 72 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 01:12:53 - INFO - Trial 73 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2300
2025-02-25 01:13:23 - INFO - Trial 74 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 01:14:14 - INFO - Trial 75 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2000
2025-02-25 01:15:31 - INFO - Trial 76 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 01:17:01 - INFO - Trial 77 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 01:20:13 - INFO - Trial 78 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3500
2025-02-25 01:21:07 - INFO - Trial 79 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1300
2025-02-25 01:21:25 - INFO - Trial 80 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4000
2025-02-25 01:22:39 - INFO - Trial 81 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1900
2025-02-25 01:23:22 - INFO - Trial 82 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1700
2025-02-25 01:23:54 - INFO - Trial 83 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1600
2025-02-25 01:24:22 - INFO - Trial 84 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1800
2025-02-25 01:24:25 - INFO - Trial 85 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1400
2025-02-25 01:24:53 - INFO - Trial 86 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 01:25:22 - INFO - Trial 87 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 01:25:47 - INFO - Trial 88 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 01:26:07 - INFO - Trial 89 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3700
2025-02-25 01:26:58 - INFO - Trial 90 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4500
2025-02-25 01:28:06 - INFO - Trial 91 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 01:28:50 - INFO - Trial 92 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4600
2025-02-25 01:29:07 - INFO - Trial 93 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4800
2025-02-25 01:29:24 - INFO - Trial 94 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 01:29:41 - INFO - Trial 95 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4300
2025-02-25 01:29:54 - INFO - Trial 96 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1900
2025-02-25 01:30:34 - INFO - Trial 97 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4100
2025-02-25 01:31:41 - INFO - Trial 98 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2900
2025-02-25 01:31:51 - INFO - Trial 99 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 01:31:56 - INFO - Trial 100 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 01:32:26 - INFO - Trial 101 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=2600
2025-02-25 01:35:12 - INFO - Trial 102 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4500
2025-02-25 01:35:27 - INFO - Trial 103 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 01:35:40 - INFO - Trial 104 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=4900
2025-02-25 01:35:53 - INFO - Trial 105 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 01:36:07 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 01:41:06 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=1_20250225_013607.cbm
2025-02-25 01:41:06 - INFO - Evaluating model: YetiRank:top=4_NDCG:top=1_20250225_013607 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=1_20250225_013607.cbm
2025-02-25 01:41:06 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=1_20250225_013607.cbm
2025-02-25 01:41:06 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 01:41:27 - INFO - Holdout Evaluation Results:
{
  "model_key": "YetiRank:top=4_NDCG:top=1_20250225_013607",
  "avg_top_4_accuracy": 0.8347486955595783,
  "avg_top_1_accuracy": 0.9601213928229155,
  "avg_top_2_accuracy": 0.9919603876051539,
  "perfect_order_percentage": 0.3222234053881376,
  "avg_ndcg_3": 0.9999997602911758,
  "MRR": 0.9782734436259086,
  "spearman_corr": 0.6866652818012986,
  "RMSE": 28.260835537489573,
  "MAE": 26.12772054282917,
  "prediction_variance": 2.3470784476091575,
  "total_groups_evaluated": 18782
}
2025-02-25 01:41:27 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 01:42:21 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 01:42:21 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_YetiRank:top=4_NDCG:top=1_20250225_013607.json
2025-02-25 01:42:21 - INFO - Trial 106 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3900
2025-02-25 01:42:54 - INFO - Trial 107 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 01:43:07 - INFO - Trial 108 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 01:43:16 - INFO - Trial 109 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4100
2025-02-25 01:43:44 - INFO - Trial 110 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1400
2025-02-25 01:44:14 - INFO - Trial 111 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 01:46:23 - INFO - Trial 112 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 01:47:57 - INFO - Trial 113 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 01:49:34 - INFO - Trial 114 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3700
2025-02-25 01:51:51 - INFO - Trial 115 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 01:53:09 - INFO - Trial 116 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 01:53:52 - INFO - Trial 117 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 01:54:25 - INFO - Trial 118 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4700
2025-02-25 01:56:00 - INFO - Trial 119 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 01:56:55 - INFO - Trial 120 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1600
2025-02-25 01:57:20 - INFO - Trial 121 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 01:57:43 - INFO - Trial 122 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4000
2025-02-25 01:59:30 - INFO - Trial 123 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 02:02:02 - INFO - Trial 124 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3900
2025-02-25 02:02:24 - INFO - Trial 125 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 02:03:50 - INFO - Trial 126 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1800
2025-02-25 02:04:20 - INFO - Trial 127 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1200
2025-02-25 02:05:42 - INFO - Trial 128 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2700
2025-02-25 02:05:45 - INFO - Trial 129 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4100
2025-02-25 02:05:55 - INFO - Trial 130 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3800
2025-02-25 02:06:12 - INFO - Trial 131 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 02:06:56 - INFO - Trial 132 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 02:07:37 - INFO - Trial 133 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 02:08:22 - INFO - Trial 134 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 02:08:56 - INFO - Trial 135 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 02:09:37 - INFO - Trial 136 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 02:10:33 - INFO - Trial 137 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1500
2025-02-25 02:10:58 - INFO - Trial 138 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4600
2025-02-25 02:12:04 - INFO - Trial 139 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4400
2025-02-25 02:12:32 - INFO - Trial 140 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 02:15:42 - INFO - Trial 141 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1300
2025-02-25 02:16:07 - INFO - Trial 142 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4700
2025-02-25 02:16:56 - INFO - Trial 143 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4800
2025-02-25 02:17:39 - INFO - Trial 144 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4200
2025-02-25 02:18:07 - INFO - Trial 145 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1000
2025-02-25 02:18:26 - INFO - Trial 146 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=5000
2025-02-25 02:19:22 - INFO - Trial 147 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 02:20:27 - INFO - Trial 148 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4600
2025-02-25 02:20:55 - INFO - Trial 149 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2800
2025-02-25 02:21:02 - INFO - Trial 150 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2400
2025-02-25 02:21:38 - INFO - Trial 151 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 02:21:40 - INFO - Trial 152 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3700
2025-02-25 02:22:35 - INFO - Trial 153 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 02:23:08 - INFO - Trial 154 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 02:23:59 - INFO - Trial 155 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3900
2025-02-25 02:25:02 - INFO - Trial 156 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 02:25:06 - INFO - Trial 157 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3800
2025-02-25 02:26:00 - INFO - Trial 158 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 02:27:02 - INFO - Trial 159 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4700
2025-02-25 02:28:35 - INFO - Trial 160 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 02:29:02 - INFO - Trial 161 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2100
2025-02-25 02:29:38 - INFO - Trial 162 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 02:30:09 - INFO - Trial 163 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2500
2025-02-25 02:30:39 - INFO - Trial 164 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2700
2025-02-25 02:31:12 - INFO - Trial 165 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2400
2025-02-25 02:31:20 - INFO - Trial 166 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 02:31:46 - INFO - Trial 167 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 02:33:14 - INFO - Trial 168 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 02:34:46 - INFO - Trial 169 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1700
2025-02-25 02:35:11 - INFO - Trial 170 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4400
2025-02-25 02:35:33 - INFO - Trial 171 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 02:36:01 - INFO - Trial 172 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 02:36:04 - INFO - Trial 173 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 02:36:09 - INFO - Trial 174 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 02:37:04 - INFO - Trial 175 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4000
2025-02-25 02:38:08 - INFO - Trial 176 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 02:39:04 - INFO - Trial 177 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 02:39:40 - INFO - Trial 178 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 02:40:42 - INFO - Trial 179 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 02:41:45 - INFO - Trial 180 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2700
2025-02-25 02:44:33 - INFO - Trial 181 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2600
2025-02-25 02:45:18 - INFO - Trial 182 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 02:45:54 - INFO - Trial 183 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2100
2025-02-25 02:46:33 - INFO - Trial 184 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1900
2025-02-25 02:47:03 - INFO - Trial 185 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1900
2025-02-25 02:47:39 - INFO - Trial 186 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 02:48:11 - INFO - Trial 187 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 02:48:31 - INFO - Trial 188 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 02:49:18 - INFO - Trial 189 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1100
2025-02-25 02:49:21 - INFO - Trial 190 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 02:49:28 - INFO - Trial 191 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1800
2025-02-25 02:49:48 - INFO - Trial 192 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 02:50:17 - INFO - Trial 193 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4900
2025-02-25 02:50:50 - INFO - Trial 194 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 02:51:40 - INFO - Trial 195 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 02:52:48 - INFO - Trial 196 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 02:53:16 - INFO - Trial 197 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=2500
2025-02-25 02:53:53 - INFO - Trial 198 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 02:54:48 - INFO - Trial 199 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 02:55:24 - INFO - Trial 200 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=4200
2025-02-25 02:55:46 - INFO - Trial 201 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1600
2025-02-25 02:55:52 - INFO - Trial 202 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1200
2025-02-25 02:56:18 - INFO - Trial 203 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1000
2025-02-25 02:56:40 - INFO - Trial 204 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1100
2025-02-25 02:57:03 - INFO - Trial 205 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=2, iterations=1300
2025-02-25 02:57:31 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 03:02:35 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=2_20250225_025731.cbm
2025-02-25 03:02:35 - INFO - Evaluating model: YetiRank:top=4_NDCG:top=2_20250225_025731 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=2_20250225_025731.cbm
2025-02-25 03:02:35 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=2_20250225_025731.cbm
2025-02-25 03:02:35 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 03:02:57 - INFO - Holdout Evaluation Results:
{
  "model_key": "YetiRank:top=4_NDCG:top=2_20250225_025731",
  "avg_top_4_accuracy": 0.8346688318602917,
  "avg_top_1_accuracy": 0.9605473325524438,
  "avg_top_2_accuracy": 0.9920136300713449,
  "perfect_order_percentage": 0.32264934511766585,
  "avg_ndcg_3": 0.9999997602911758,
  "MRR": 0.9785037172921849,
  "spearman_corr": 0.6866389228310041,
  "RMSE": 28.27117710637046,
  "MAE": 26.138859981411695,
  "prediction_variance": 2.3468189536897084,
  "total_groups_evaluated": 18782
}
2025-02-25 03:02:57 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 03:03:52 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 03:03:52 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_YetiRank:top=4_NDCG:top=2_20250225_025731.json
2025-02-25 03:03:52 - INFO - Trial 206 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 03:04:09 - INFO - Trial 207 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2800
2025-02-25 03:04:23 - INFO - Trial 208 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 03:05:07 - INFO - Trial 209 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3700
2025-02-25 03:06:48 - INFO - Trial 210 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 03:07:50 - INFO - Trial 211 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 03:08:50 - INFO - Trial 212 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 03:08:55 - INFO - Trial 213 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 03:09:30 - INFO - Trial 214 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 03:09:36 - INFO - Trial 215 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1700
2025-02-25 03:10:30 - INFO - Trial 216 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1500
2025-02-25 03:10:36 - INFO - Trial 217 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 03:10:58 - INFO - Trial 218 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2000
2025-02-25 03:12:46 - INFO - Trial 219 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4600
2025-02-25 03:14:00 - INFO - Trial 220 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 03:14:08 - INFO - Trial 221 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4100
2025-02-25 03:14:12 - INFO - Trial 222 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 03:14:56 - INFO - Trial 223 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 03:15:33 - INFO - Trial 224 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1400
2025-02-25 03:16:03 - INFO - Trial 225 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 03:16:11 - INFO - Trial 226 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2600
2025-02-25 03:16:42 - INFO - Trial 227 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 03:17:46 - INFO - Trial 228 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 03:18:21 - INFO - Trial 229 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3500
2025-02-25 03:19:22 - INFO - Trial 230 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 03:20:33 - INFO - Trial 231 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3400
2025-02-25 03:21:16 - INFO - Trial 232 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 03:21:54 - INFO - Trial 233 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 03:22:41 - INFO - Trial 234 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 03:23:33 - INFO - Trial 235 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 03:24:10 - INFO - Trial 236 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 03:24:56 - INFO - Trial 237 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1900
2025-02-25 03:25:24 - INFO - Trial 238 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 03:26:27 - INFO - Trial 239 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1100
2025-02-25 03:26:46 - INFO - Trial 240 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1700
2025-02-25 03:27:12 - INFO - Trial 241 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 03:28:49 - INFO - Trial 242 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 03:31:56 - INFO - Trial 243 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 03:34:02 - INFO - Trial 244 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 03:37:26 - INFO - Trial 245 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4900
2025-02-25 03:42:32 - INFO - Trial 246 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 03:42:44 - INFO - Trial 247 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 03:44:01 - INFO - Trial 248 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3700
2025-02-25 03:44:12 - INFO - Trial 249 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 03:44:36 - INFO - Trial 250 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 03:45:39 - INFO - Trial 251 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 03:46:11 - INFO - Trial 252 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 03:49:47 - INFO - Trial 253 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 03:50:39 - INFO - Trial 254 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4700
2025-02-25 03:51:20 - INFO - Trial 255 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3600
2025-02-25 03:52:38 - INFO - Trial 256 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3900
2025-02-25 03:53:32 - INFO - Trial 257 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 03:54:13 - INFO - Trial 258 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2800
2025-02-25 03:57:23 - INFO - Trial 259 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 03:58:44 - INFO - Trial 260 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 03:59:39 - INFO - Trial 261 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1200
2025-02-25 03:59:59 - INFO - Trial 262 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2000
2025-02-25 04:00:11 - INFO - Trial 263 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1600
2025-02-25 04:00:42 - INFO - Trial 264 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 04:02:15 - INFO - Trial 265 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4500
2025-02-25 04:02:28 - INFO - Trial 266 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 04:03:13 - INFO - Trial 267 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 04:04:01 - INFO - Trial 268 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 04:04:45 - INFO - Trial 269 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 04:05:54 - INFO - Trial 270 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4200
2025-02-25 04:07:12 - INFO - Trial 271 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2700
2025-02-25 04:09:23 - INFO - Trial 272 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 04:10:29 - INFO - Trial 273 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3600
2025-02-25 04:11:15 - INFO - Trial 274 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3400
2025-02-25 04:13:21 - INFO - Trial 275 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4800
2025-02-25 04:14:54 - INFO - Trial 276 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4000
2025-02-25 04:15:53 - INFO - Trial 277 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 04:16:27 - INFO - Trial 278 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1300
2025-02-25 04:16:52 - INFO - Trial 279 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 04:18:07 - INFO - Trial 280 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1100
2025-02-25 04:18:25 - INFO - Trial 281 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 04:18:29 - INFO - Trial 282 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 04:18:32 - INFO - Trial 283 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2600
2025-02-25 04:19:28 - INFO - Trial 284 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3500
2025-02-25 04:20:01 - INFO - Trial 285 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 04:20:36 - INFO - Trial 286 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1700
2025-02-25 04:21:16 - INFO - Trial 287 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 04:22:12 - INFO - Trial 288 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2000
2025-02-25 04:22:59 - INFO - Trial 289 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4600
2025-02-25 04:25:05 - INFO - Trial 290 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 04:26:01 - INFO - Trial 291 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 04:27:24 - INFO - Trial 292 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1900
2025-02-25 04:27:26 - INFO - Trial 293 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4500
2025-02-25 04:28:53 - INFO - Trial 294 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1400
2025-02-25 04:30:20 - INFO - Trial 295 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 04:30:44 - INFO - Trial 296 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 04:31:34 - INFO - Trial 297 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 04:32:17 - INFO - Trial 298 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 04:32:35 - INFO - Trial 299 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 04:32:40 - INFO - Trial 300 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 04:33:51 - INFO - Trial 301 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 04:34:58 - INFO - Trial 302 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=4100
2025-02-25 04:36:25 - INFO - Trial 303 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 04:37:05 - INFO - Trial 304 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=1500
2025-02-25 04:37:23 - INFO - Trial 305 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=3, iterations=3700
2025-02-25 04:38:28 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 04:43:23 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=3_20250225_043828.cbm
2025-02-25 04:43:23 - INFO - Evaluating model: YetiRank:top=4_NDCG:top=3_20250225_043828 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=3_20250225_043828.cbm
2025-02-25 04:43:23 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=3_20250225_043828.cbm
2025-02-25 04:43:23 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 04:43:44 - INFO - Holdout Evaluation Results:
{
  "model_key": "YetiRank:top=4_NDCG:top=3_20250225_043828",
  "avg_top_4_accuracy": 0.8345756575444575,
  "avg_top_1_accuracy": 0.9598551804919604,
  "avg_top_2_accuracy": 0.9919071451389628,
  "perfect_order_percentage": 0.321371525929081,
  "avg_ndcg_3": 0.9999997602911758,
  "MRR": 0.9781398937732129,
  "spearman_corr": 0.6866014429561509,
  "RMSE": 28.267268488076237,
  "MAE": 26.13459192512606,
  "prediction_variance": 2.3468700799286406,
  "total_groups_evaluated": 18782
}
2025-02-25 04:43:44 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 04:44:36 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 04:44:36 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_YetiRank:top=4_NDCG:top=3_20250225_043828.json
2025-02-25 04:44:36 - INFO - Trial 306 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1600
2025-02-25 04:46:19 - INFO - Trial 307 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 04:46:55 - INFO - Trial 308 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 04:47:55 - INFO - Trial 309 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 04:48:54 - INFO - Trial 310 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 04:49:45 - INFO - Trial 311 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 04:50:37 - INFO - Trial 312 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 04:51:34 - INFO - Trial 313 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 04:52:22 - INFO - Trial 314 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1200
2025-02-25 04:52:33 - INFO - Trial 315 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=5000
2025-02-25 04:52:51 - INFO - Trial 316 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4700
2025-02-25 04:54:00 - INFO - Trial 317 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2800
2025-02-25 04:55:00 - INFO - Trial 318 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1900
2025-02-25 04:55:31 - INFO - Trial 319 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 04:55:44 - INFO - Trial 320 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4300
2025-02-25 04:59:41 - INFO - Trial 321 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1700
2025-02-25 05:00:11 - INFO - Trial 322 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1000
2025-02-25 05:00:31 - INFO - Trial 323 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3400
2025-02-25 05:00:39 - INFO - Trial 324 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 05:01:09 - INFO - Trial 325 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4200
2025-02-25 05:03:23 - INFO - Trial 326 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 05:04:17 - INFO - Trial 327 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 05:08:07 - INFO - Trial 328 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4000
2025-02-25 05:08:36 - INFO - Trial 329 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 05:09:23 - INFO - Trial 330 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2700
2025-02-25 05:10:21 - INFO - Trial 331 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4600
2025-02-25 05:10:36 - INFO - Trial 332 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2000
2025-02-25 05:12:51 - INFO - Trial 333 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2600
2025-02-25 05:13:37 - INFO - Trial 334 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 05:13:39 - INFO - Trial 335 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 05:14:17 - INFO - Trial 336 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3600
2025-02-25 05:17:09 - INFO - Trial 337 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1800
2025-02-25 05:19:09 - INFO - Trial 338 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4500
2025-02-25 05:20:33 - INFO - Trial 339 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3400
2025-02-25 05:22:00 - INFO - Trial 340 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 05:22:50 - INFO - Trial 341 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3900
2025-02-25 05:23:10 - INFO - Trial 342 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 05:23:55 - INFO - Trial 343 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 05:24:00 - INFO - Trial 344 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4800
2025-02-25 05:25:25 - INFO - Trial 345 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3700
2025-02-25 05:28:26 - INFO - Trial 346 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1100
2025-02-25 05:28:43 - INFO - Trial 347 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 05:28:55 - INFO - Trial 348 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 05:31:14 - INFO - Trial 349 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 05:31:59 - INFO - Trial 350 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4400
2025-02-25 05:33:34 - INFO - Trial 351 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1600
2025-02-25 05:33:55 - INFO - Trial 352 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 05:34:46 - INFO - Trial 353 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1400
2025-02-25 05:36:18 - INFO - Trial 354 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 05:37:05 - INFO - Trial 355 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1900
2025-02-25 05:37:51 - INFO - Trial 356 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2600
2025-02-25 05:38:34 - INFO - Trial 357 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1100
2025-02-25 05:38:55 - INFO - Trial 358 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2800
2025-02-25 05:39:03 - INFO - Trial 359 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4100
2025-02-25 05:42:52 - INFO - Trial 360 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4400
2025-02-25 05:42:54 - INFO - Trial 361 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4900
2025-02-25 05:45:05 - INFO - Trial 362 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3600
2025-02-25 05:46:20 - INFO - Trial 363 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 05:47:25 - INFO - Trial 364 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1300
2025-02-25 05:47:47 - INFO - Trial 365 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 05:48:53 - INFO - Trial 366 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 05:49:46 - INFO - Trial 367 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 05:50:33 - INFO - Trial 368 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2000
2025-02-25 05:51:17 - INFO - Trial 369 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1000
2025-02-25 05:51:38 - INFO - Trial 370 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 05:51:48 - INFO - Trial 371 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4300
2025-02-25 05:52:54 - INFO - Trial 372 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3800
2025-02-25 05:52:56 - INFO - Trial 373 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 05:55:26 - INFO - Trial 374 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3400
2025-02-25 05:56:01 - INFO - Trial 375 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1800
2025-02-25 05:57:24 - INFO - Trial 376 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 05:57:37 - INFO - Trial 377 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 05:58:21 - INFO - Trial 378 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4600
2025-02-25 05:59:41 - INFO - Trial 379 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1500
2025-02-25 06:01:04 - INFO - Trial 380 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 06:02:06 - INFO - Trial 381 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1200
2025-02-25 06:02:13 - INFO - Trial 382 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 06:02:52 - INFO - Trial 383 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 06:03:37 - INFO - Trial 384 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4200
2025-02-25 06:03:44 - INFO - Trial 385 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 06:04:47 - INFO - Trial 386 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 06:05:51 - INFO - Trial 387 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3900
2025-02-25 06:06:34 - INFO - Trial 388 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2700
2025-02-25 06:07:21 - INFO - Trial 389 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4500
2025-02-25 06:11:04 - INFO - Trial 390 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3700
2025-02-25 06:11:11 - INFO - Trial 391 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 06:12:13 - INFO - Trial 392 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 06:13:22 - INFO - Trial 393 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4700
2025-02-25 06:15:02 - INFO - Trial 394 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1900
2025-02-25 06:15:43 - INFO - Trial 395 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1800
2025-02-25 06:16:32 - INFO - Trial 396 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 06:17:32 - INFO - Trial 397 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1700
2025-02-25 06:18:03 - INFO - Trial 398 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 06:18:08 - INFO - Trial 399 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 06:21:07 - INFO - Trial 400 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=1500
2025-02-25 06:21:37 - INFO - Trial 401 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=4100
2025-02-25 06:24:12 - INFO - Trial 402 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 06:25:16 - INFO - Trial 403 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 06:25:40 - INFO - Trial 404 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 06:25:45 - INFO - Trial 405 parameters: loss_function=YetiRank:top=4, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 06:26:44 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 06:32:08 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=4_20250225_062644.cbm
2025-02-25 06:32:08 - INFO - Evaluating model: YetiRank:top=4_NDCG:top=4_20250225_062644 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=4_20250225_062644.cbm
2025-02-25 06:32:08 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_YetiRank:top=4_NDCG:top=4_20250225_062644.cbm
2025-02-25 06:32:08 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 06:32:32 - INFO - Holdout Evaluation Results:
{
  "model_key": "YetiRank:top=4_NDCG:top=4_20250225_062644",
  "avg_top_4_accuracy": 0.8346155893941007,
  "avg_top_1_accuracy": 0.9604940900862527,
  "avg_top_2_accuracy": 0.9920136300713449,
  "perfect_order_percentage": 0.32248961771909274,
  "avg_ndcg_3": 0.9999997602911758,
  "MRR": 0.9784761453007647,
  "spearman_corr": 0.6866427387775615,
  "RMSE": 28.26348380587585,
  "MAE": 26.130579864915674,
  "prediction_variance": 2.3470825043816204,
  "total_groups_evaluated": 18782
}
2025-02-25 06:32:32 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 06:33:30 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 06:33:30 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_YetiRank:top=4_NDCG:top=4_20250225_062644.json
2025-02-25 06:33:30 - INFO - Trial 406 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4000
2025-02-25 06:33:43 - INFO - Trial 407 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4300
2025-02-25 06:33:47 - INFO - Trial 408 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 06:33:55 - INFO - Trial 409 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3400
2025-02-25 06:34:07 - INFO - Trial 410 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 06:34:10 - INFO - Trial 411 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3600
2025-02-25 06:34:45 - INFO - Trial 412 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 06:34:52 - INFO - Trial 413 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2000
2025-02-25 06:34:56 - INFO - Trial 414 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2600
2025-02-25 06:34:59 - INFO - Trial 415 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1000
2025-02-25 06:35:05 - INFO - Trial 416 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 06:35:24 - INFO - Trial 417 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4800
2025-02-25 06:36:04 - INFO - Trial 418 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 06:36:12 - INFO - Trial 419 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1700
2025-02-25 06:36:39 - INFO - Trial 420 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 06:36:47 - INFO - Trial 421 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4500
2025-02-25 06:39:10 - INFO - Trial 422 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 06:39:14 - INFO - Trial 423 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 06:39:30 - INFO - Trial 424 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 06:39:52 - INFO - Trial 425 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1300
2025-02-25 06:40:09 - INFO - Trial 426 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 06:41:23 - INFO - Trial 427 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1200
2025-02-25 06:41:40 - INFO - Trial 428 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 06:41:42 - INFO - Trial 429 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4600
2025-02-25 06:41:54 - INFO - Trial 430 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2300
2025-02-25 06:42:03 - INFO - Trial 431 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3700
2025-02-25 06:42:07 - INFO - Trial 432 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 06:42:17 - INFO - Trial 433 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1900
2025-02-25 06:42:20 - INFO - Trial 434 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3500
2025-02-25 06:42:37 - INFO - Trial 435 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 06:42:42 - INFO - Trial 436 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 06:42:46 - INFO - Trial 437 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2500
2025-02-25 06:43:20 - INFO - Trial 438 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3800
2025-02-25 06:43:54 - INFO - Trial 439 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1400
2025-02-25 06:43:56 - INFO - Trial 440 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4900
2025-02-25 06:44:09 - INFO - Trial 441 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 06:44:16 - INFO - Trial 442 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 06:46:52 - INFO - Trial 443 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1600
2025-02-25 06:47:26 - INFO - Trial 444 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 06:47:34 - INFO - Trial 445 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1000
2025-02-25 06:47:43 - INFO - Trial 446 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2000
2025-02-25 06:48:02 - INFO - Trial 447 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3600
2025-02-25 06:48:10 - INFO - Trial 448 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2300
2025-02-25 06:48:23 - INFO - Trial 449 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4300
2025-02-25 06:48:48 - INFO - Trial 450 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2700
2025-02-25 06:49:02 - INFO - Trial 451 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 06:49:17 - INFO - Trial 452 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 06:49:24 - INFO - Trial 453 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3400
2025-02-25 06:49:33 - INFO - Trial 454 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 06:50:07 - INFO - Trial 455 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4700
2025-02-25 06:50:20 - INFO - Trial 456 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2900
2025-02-25 06:50:32 - INFO - Trial 457 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4000
2025-02-25 06:50:54 - INFO - Trial 458 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1800
2025-02-25 06:51:00 - INFO - Trial 459 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 06:51:09 - INFO - Trial 460 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 06:51:21 - INFO - Trial 461 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 06:51:23 - INFO - Trial 462 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4500
2025-02-25 06:51:30 - INFO - Trial 463 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2900
2025-02-25 06:52:10 - INFO - Trial 464 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 06:52:14 - INFO - Trial 465 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1600
2025-02-25 06:52:54 - INFO - Trial 466 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 06:52:56 - INFO - Trial 467 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 06:53:02 - INFO - Trial 468 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3500
2025-02-25 06:53:17 - INFO - Trial 469 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3900
2025-02-25 06:54:05 - INFO - Trial 470 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1900
2025-02-25 06:54:09 - INFO - Trial 471 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 06:54:46 - INFO - Trial 472 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2100
2025-02-25 06:54:56 - INFO - Trial 473 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2600
2025-02-25 06:55:26 - INFO - Trial 474 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 06:55:29 - INFO - Trial 475 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3700
2025-02-25 06:55:34 - INFO - Trial 476 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2500
2025-02-25 06:55:56 - INFO - Trial 477 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4200
2025-02-25 06:56:14 - INFO - Trial 478 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1500
2025-02-25 06:56:26 - INFO - Trial 479 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3600
2025-02-25 06:56:31 - INFO - Trial 480 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=5000
2025-02-25 06:56:35 - INFO - Trial 481 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4400
2025-02-25 06:56:38 - INFO - Trial 482 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 06:56:50 - INFO - Trial 483 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2300
2025-02-25 06:57:36 - INFO - Trial 484 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1200
2025-02-25 06:57:50 - INFO - Trial 485 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 06:57:55 - INFO - Trial 486 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2000
2025-02-25 06:58:15 - INFO - Trial 487 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1400
2025-02-25 06:58:19 - INFO - Trial 488 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4600
2025-02-25 06:58:57 - INFO - Trial 489 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1800
2025-02-25 06:59:01 - INFO - Trial 490 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1700
2025-02-25 06:59:04 - INFO - Trial 491 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1000
2025-02-25 06:59:18 - INFO - Trial 492 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3400
2025-02-25 06:59:22 - INFO - Trial 493 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3300
2025-02-25 06:59:47 - INFO - Trial 494 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2400
2025-02-25 06:59:58 - INFO - Trial 495 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4800
2025-02-25 07:00:02 - INFO - Trial 496 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3100
2025-02-25 07:00:12 - INFO - Trial 497 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=4100
2025-02-25 07:00:18 - INFO - Trial 498 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3800
2025-02-25 07:00:32 - INFO - Trial 499 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2200
2025-02-25 07:02:02 - INFO - Trial 500 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2800
2025-02-25 07:02:14 - INFO - Trial 501 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=1100
2025-02-25 07:02:33 - INFO - Trial 502 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 07:02:50 - INFO - Trial 503 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=2700
2025-02-25 07:03:15 - INFO - Trial 504 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3200
2025-02-25 07:05:06 - INFO - Trial 505 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=1, iterations=3000
2025-02-25 07:05:16 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 07:10:05 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=1_20250225_070516.cbm
2025-02-25 07:10:05 - INFO - Evaluating model: QueryRMSE_NDCG:top=1_20250225_070516 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=1_20250225_070516.cbm
2025-02-25 07:10:05 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=1_20250225_070516.cbm
2025-02-25 07:10:06 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 07:10:28 - INFO - Holdout Evaluation Results:
{
  "model_key": "QueryRMSE_NDCG:top=1_20250225_070516",
  "avg_top_4_accuracy": 0.827933659887126,
  "avg_top_1_accuracy": 0.8520391864551166,
  "avg_top_2_accuracy": 0.9580449366414653,
  "perfect_order_percentage": 0.1942285166648919,
  "avg_ndcg_3": 1.0,
  "MRR": 0.9178068621471879,
  "spearman_corr": 0.6750872373767157,
  "RMSE": 27.436946108794647,
  "MAE": 25.67370266301105,
  "prediction_variance": 8.220273159876797,
  "total_groups_evaluated": 18782
}
2025-02-25 07:10:28 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 07:11:23 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 07:11:23 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_QueryRMSE_NDCG:top=1_20250225_070516.json
2025-02-25 07:11:23 - INFO - Trial 506 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 07:11:43 - INFO - Trial 507 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 07:11:52 - INFO - Trial 508 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 07:12:06 - INFO - Trial 509 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 07:12:09 - INFO - Trial 510 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:12:39 - INFO - Trial 511 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 07:14:00 - INFO - Trial 512 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 07:14:16 - INFO - Trial 513 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 07:14:22 - INFO - Trial 514 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1900
2025-02-25 07:14:30 - INFO - Trial 515 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2400
2025-02-25 07:14:35 - INFO - Trial 516 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2600
2025-02-25 07:15:01 - INFO - Trial 517 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4400
2025-02-25 07:15:33 - INFO - Trial 518 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1300
2025-02-25 07:15:46 - INFO - Trial 519 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2500
2025-02-25 07:16:20 - INFO - Trial 520 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 07:16:54 - INFO - Trial 521 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4600
2025-02-25 07:16:57 - INFO - Trial 522 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 07:17:03 - INFO - Trial 523 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3900
2025-02-25 07:17:16 - INFO - Trial 524 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 07:18:55 - INFO - Trial 525 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4200
2025-02-25 07:18:57 - INFO - Trial 526 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2100
2025-02-25 07:19:00 - INFO - Trial 527 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1800
2025-02-25 07:20:27 - INFO - Trial 528 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4700
2025-02-25 07:21:27 - INFO - Trial 529 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 07:21:51 - INFO - Trial 530 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1000
2025-02-25 07:22:28 - INFO - Trial 531 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4900
2025-02-25 07:22:32 - INFO - Trial 532 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1600
2025-02-25 07:22:58 - INFO - Trial 533 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 07:23:06 - INFO - Trial 534 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4000
2025-02-25 07:23:13 - INFO - Trial 535 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:26:14 - INFO - Trial 536 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 07:26:36 - INFO - Trial 537 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3700
2025-02-25 07:26:54 - INFO - Trial 538 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2500
2025-02-25 07:27:14 - INFO - Trial 539 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 07:28:48 - INFO - Trial 540 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 07:28:56 - INFO - Trial 541 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 07:29:03 - INFO - Trial 542 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1200
2025-02-25 07:29:17 - INFO - Trial 543 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 07:29:22 - INFO - Trial 544 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1700
2025-02-25 07:29:50 - INFO - Trial 545 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 07:30:07 - INFO - Trial 546 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1500
2025-02-25 07:30:22 - INFO - Trial 547 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3700
2025-02-25 07:30:57 - INFO - Trial 548 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1100
2025-02-25 07:31:03 - INFO - Trial 549 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 07:31:08 - INFO - Trial 550 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 07:31:11 - INFO - Trial 551 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 07:31:26 - INFO - Trial 552 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2600
2025-02-25 07:31:42 - INFO - Trial 553 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:31:52 - INFO - Trial 554 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4100
2025-02-25 07:32:06 - INFO - Trial 555 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 07:33:47 - INFO - Trial 556 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3600
2025-02-25 07:34:00 - INFO - Trial 557 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2800
2025-02-25 07:35:56 - INFO - Trial 558 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1900
2025-02-25 07:36:11 - INFO - Trial 559 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2400
2025-02-25 07:36:13 - INFO - Trial 560 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 07:36:19 - INFO - Trial 561 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1300
2025-02-25 07:36:28 - INFO - Trial 562 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3800
2025-02-25 07:36:37 - INFO - Trial 563 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4400
2025-02-25 07:36:48 - INFO - Trial 564 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2200
2025-02-25 07:36:49 - INFO - Trial 565 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 07:36:56 - INFO - Trial 566 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 07:37:05 - INFO - Trial 567 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4800
2025-02-25 07:37:26 - INFO - Trial 568 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2100
2025-02-25 07:37:53 - INFO - Trial 569 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1700
2025-02-25 07:39:15 - INFO - Trial 570 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2700
2025-02-25 07:39:35 - INFO - Trial 571 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4300
2025-02-25 07:39:41 - INFO - Trial 572 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:39:57 - INFO - Trial 573 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3300
2025-02-25 07:40:20 - INFO - Trial 574 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 07:40:31 - INFO - Trial 575 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3900
2025-02-25 07:40:35 - INFO - Trial 576 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 07:40:52 - INFO - Trial 577 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1000
2025-02-25 07:41:23 - INFO - Trial 578 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 07:41:55 - INFO - Trial 579 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1800
2025-02-25 07:42:01 - INFO - Trial 580 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4400
2025-02-25 07:42:30 - INFO - Trial 581 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4600
2025-02-25 07:42:52 - INFO - Trial 582 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2500
2025-02-25 07:43:15 - INFO - Trial 583 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3500
2025-02-25 07:43:54 - INFO - Trial 584 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4200
2025-02-25 07:44:07 - INFO - Trial 585 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2400
2025-02-25 07:44:11 - INFO - Trial 586 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3100
2025-02-25 07:44:28 - INFO - Trial 587 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2000
2025-02-25 07:44:40 - INFO - Trial 588 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4700
2025-02-25 07:45:28 - INFO - Trial 589 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2900
2025-02-25 07:45:43 - INFO - Trial 590 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1600
2025-02-25 07:45:49 - INFO - Trial 591 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1200
2025-02-25 07:46:35 - INFO - Trial 592 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2100
2025-02-25 07:46:59 - INFO - Trial 593 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2300
2025-02-25 07:47:18 - INFO - Trial 594 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=5000
2025-02-25 07:47:29 - INFO - Trial 595 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1900
2025-02-25 07:48:00 - INFO - Trial 596 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4500
2025-02-25 07:48:03 - INFO - Trial 597 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:48:50 - INFO - Trial 598 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=1100
2025-02-25 07:49:50 - INFO - Trial 599 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2700
2025-02-25 07:50:08 - INFO - Trial 600 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3700
2025-02-25 07:50:12 - INFO - Trial 601 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=4100
2025-02-25 07:50:50 - INFO - Trial 602 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3000
2025-02-25 07:51:12 - INFO - Trial 603 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3400
2025-02-25 07:51:20 - INFO - Trial 604 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=2800
2025-02-25 07:51:23 - INFO - Trial 605 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=2, iterations=3200
2025-02-25 07:51:26 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 07:56:02 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=2_20250225_075126.cbm
2025-02-25 07:56:02 - INFO - Evaluating model: QueryRMSE_NDCG:top=2_20250225_075126 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=2_20250225_075126.cbm
2025-02-25 07:56:02 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=2_20250225_075126.cbm
2025-02-25 07:56:03 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 07:56:24 - INFO - Holdout Evaluation Results:
{
  "model_key": "QueryRMSE_NDCG:top=2_20250225_075126",
  "avg_top_4_accuracy": 0.827933659887126,
  "avg_top_1_accuracy": 0.8520924289213077,
  "avg_top_2_accuracy": 0.9585241188371846,
  "perfect_order_percentage": 0.19412203173250986,
  "avg_ndcg_3": 1.0,
  "MRR": 0.9179266576961178,
  "spearman_corr": 0.6750946442009799,
  "RMSE": 27.43694932168606,
  "MAE": 25.6737563742512,
  "prediction_variance": 8.220095630096688,
  "total_groups_evaluated": 18782
}
2025-02-25 07:56:24 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 07:57:17 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 07:57:17 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_QueryRMSE_NDCG:top=2_20250225_075126.json
2025-02-25 07:57:17 - INFO - Trial 606 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:00:29 - INFO - Trial 607 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 08:00:38 - INFO - Trial 608 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 08:01:09 - INFO - Trial 609 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 08:01:34 - INFO - Trial 610 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 08:01:37 - INFO - Trial 611 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 08:02:09 - INFO - Trial 612 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1400
2025-02-25 08:03:30 - INFO - Trial 613 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3600
2025-02-25 08:03:54 - INFO - Trial 614 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 08:04:13 - INFO - Trial 615 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 08:04:22 - INFO - Trial 616 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1700
2025-02-25 08:04:42 - INFO - Trial 617 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 08:06:43 - INFO - Trial 618 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:06:49 - INFO - Trial 619 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 08:07:06 - INFO - Trial 620 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 08:07:59 - INFO - Trial 621 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2600
2025-02-25 08:08:28 - INFO - Trial 622 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3600
2025-02-25 08:08:48 - INFO - Trial 623 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1900
2025-02-25 08:10:01 - INFO - Trial 624 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 08:10:23 - INFO - Trial 625 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 08:10:27 - INFO - Trial 626 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1500
2025-02-25 08:10:42 - INFO - Trial 627 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4200
2025-02-25 08:11:35 - INFO - Trial 628 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4500
2025-02-25 08:11:41 - INFO - Trial 629 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2000
2025-02-25 08:12:00 - INFO - Trial 630 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1200
2025-02-25 08:12:08 - INFO - Trial 631 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 08:12:13 - INFO - Trial 632 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3400
2025-02-25 08:12:57 - INFO - Trial 633 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4700
2025-02-25 08:13:08 - INFO - Trial 634 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 08:13:10 - INFO - Trial 635 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 08:13:44 - INFO - Trial 636 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 08:14:09 - INFO - Trial 637 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:14:17 - INFO - Trial 638 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 08:14:22 - INFO - Trial 639 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4600
2025-02-25 08:15:43 - INFO - Trial 640 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1600
2025-02-25 08:15:49 - INFO - Trial 641 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3500
2025-02-25 08:15:57 - INFO - Trial 642 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 08:16:03 - INFO - Trial 643 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 08:16:18 - INFO - Trial 644 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2800
2025-02-25 08:16:26 - INFO - Trial 645 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4000
2025-02-25 08:20:55 - INFO - Trial 646 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 08:20:58 - INFO - Trial 647 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1300
2025-02-25 08:21:16 - INFO - Trial 648 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1100
2025-02-25 08:21:28 - INFO - Trial 649 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 08:21:37 - INFO - Trial 650 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 08:24:53 - INFO - Trial 651 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 08:24:56 - INFO - Trial 652 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 08:25:06 - INFO - Trial 653 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4900
2025-02-25 08:25:20 - INFO - Trial 654 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 08:26:20 - INFO - Trial 655 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:26:31 - INFO - Trial 656 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2600
2025-02-25 08:26:42 - INFO - Trial 657 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 08:27:07 - INFO - Trial 658 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4800
2025-02-25 08:27:15 - INFO - Trial 659 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 08:28:00 - INFO - Trial 660 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3400
2025-02-25 08:28:12 - INFO - Trial 661 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3700
2025-02-25 08:28:18 - INFO - Trial 662 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4000
2025-02-25 08:29:13 - INFO - Trial 663 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:29:23 - INFO - Trial 664 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4200
2025-02-25 08:29:34 - INFO - Trial 665 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 08:29:49 - INFO - Trial 666 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 08:30:04 - INFO - Trial 667 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2000
2025-02-25 08:30:52 - INFO - Trial 668 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 08:31:08 - INFO - Trial 669 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 08:31:17 - INFO - Trial 670 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 08:31:45 - INFO - Trial 671 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3600
2025-02-25 08:32:18 - INFO - Trial 672 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1800
2025-02-25 08:32:26 - INFO - Trial 673 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 08:35:16 - INFO - Trial 674 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 08:35:20 - INFO - Trial 675 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 08:35:21 - INFO - Trial 676 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4500
2025-02-25 08:35:26 - INFO - Trial 677 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1900
2025-02-25 08:35:32 - INFO - Trial 678 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2500
2025-02-25 08:36:12 - INFO - Trial 679 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3900
2025-02-25 08:36:45 - INFO - Trial 680 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3500
2025-02-25 08:37:22 - INFO - Trial 681 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3000
2025-02-25 08:37:27 - INFO - Trial 682 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3300
2025-02-25 08:37:57 - INFO - Trial 683 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 08:38:17 - INFO - Trial 684 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4100
2025-02-25 08:38:33 - INFO - Trial 685 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4600
2025-02-25 08:38:43 - INFO - Trial 686 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1000
2025-02-25 08:38:47 - INFO - Trial 687 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1600
2025-02-25 08:38:56 - INFO - Trial 688 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2700
2025-02-25 08:40:01 - INFO - Trial 689 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2900
2025-02-25 08:40:11 - INFO - Trial 690 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1700
2025-02-25 08:40:13 - INFO - Trial 691 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3100
2025-02-25 08:40:26 - INFO - Trial 692 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1100
2025-02-25 08:40:30 - INFO - Trial 693 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2200
2025-02-25 08:41:06 - INFO - Trial 694 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1400
2025-02-25 08:41:14 - INFO - Trial 695 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2300
2025-02-25 08:42:36 - INFO - Trial 696 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1900
2025-02-25 08:42:52 - INFO - Trial 697 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3800
2025-02-25 08:42:59 - INFO - Trial 698 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4300
2025-02-25 08:44:29 - INFO - Trial 699 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2100
2025-02-25 08:45:04 - INFO - Trial 700 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=1400
2025-02-25 08:45:18 - INFO - Trial 701 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2400
2025-02-25 08:45:37 - INFO - Trial 702 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3200
2025-02-25 08:45:41 - INFO - Trial 703 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=4400
2025-02-25 08:45:58 - INFO - Trial 704 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=2600
2025-02-25 08:46:12 - INFO - Trial 705 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=3, iterations=3400
2025-02-25 08:46:21 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 08:50:56 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=3_20250225_084621.cbm
2025-02-25 08:50:56 - INFO - Evaluating model: QueryRMSE_NDCG:top=3_20250225_084621 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=3_20250225_084621.cbm
2025-02-25 08:50:56 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=3_20250225_084621.cbm
2025-02-25 08:50:57 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 08:51:18 - INFO - Holdout Evaluation Results:
{
  "model_key": "QueryRMSE_NDCG:top=3_20250225_084621",
  "avg_top_4_accuracy": 0.8279203492705782,
  "avg_top_1_accuracy": 0.8520391864551166,
  "avg_top_2_accuracy": 0.9579916941752742,
  "perfect_order_percentage": 0.194335001597274,
  "avg_ndcg_3": 1.0,
  "MRR": 0.9178068621471879,
  "spearman_corr": 0.6750946029778265,
  "RMSE": 27.437336008372753,
  "MAE": 25.674138879198967,
  "prediction_variance": 8.220285214453632,
  "total_groups_evaluated": 18782
}
2025-02-25 08:51:18 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 08:52:10 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 08:52:10 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_QueryRMSE_NDCG:top=3_20250225_084621.json
2025-02-25 08:52:10 - INFO - Trial 706 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3700
2025-02-25 08:52:18 - INFO - Trial 707 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 08:52:22 - INFO - Trial 708 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1100
2025-02-25 08:52:29 - INFO - Trial 709 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4500
2025-02-25 08:53:17 - INFO - Trial 710 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2800
2025-02-25 08:53:36 - INFO - Trial 711 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3600
2025-02-25 08:54:19 - INFO - Trial 712 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1200
2025-02-25 08:54:37 - INFO - Trial 713 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2000
2025-02-25 08:55:04 - INFO - Trial 714 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 08:55:28 - INFO - Trial 715 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 08:55:52 - INFO - Trial 716 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 08:55:59 - INFO - Trial 717 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4700
2025-02-25 08:56:14 - INFO - Trial 718 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 08:57:21 - INFO - Trial 719 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 08:57:31 - INFO - Trial 720 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 08:57:51 - INFO - Trial 721 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1500
2025-02-25 08:58:57 - INFO - Trial 722 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 08:59:24 - INFO - Trial 723 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 08:59:28 - INFO - Trial 724 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4900
2025-02-25 09:00:19 - INFO - Trial 725 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4300
2025-02-25 09:01:13 - INFO - Trial 726 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1800
2025-02-25 09:01:35 - INFO - Trial 727 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 09:01:43 - INFO - Trial 728 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 09:01:48 - INFO - Trial 729 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 09:02:13 - INFO - Trial 730 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 09:02:53 - INFO - Trial 731 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4100
2025-02-25 09:03:07 - INFO - Trial 732 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4600
2025-02-25 09:03:10 - INFO - Trial 733 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1700
2025-02-25 09:03:32 - INFO - Trial 734 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2700
2025-02-25 09:03:42 - INFO - Trial 735 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3900
2025-02-25 09:03:50 - INFO - Trial 736 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4500
2025-02-25 09:03:59 - INFO - Trial 737 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1300
2025-02-25 09:04:15 - INFO - Trial 738 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1000
2025-02-25 09:05:12 - INFO - Trial 739 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 09:05:47 - INFO - Trial 740 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 09:05:51 - INFO - Trial 741 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=5000
2025-02-25 09:09:13 - INFO - Trial 742 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 09:09:22 - INFO - Trial 743 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 09:09:33 - INFO - Trial 744 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2000
2025-02-25 09:10:33 - INFO - Trial 745 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4000
2025-02-25 09:11:00 - INFO - Trial 746 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 09:11:34 - INFO - Trial 747 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 09:11:54 - INFO - Trial 748 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1900
2025-02-25 09:12:08 - INFO - Trial 749 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 09:12:37 - INFO - Trial 750 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3700
2025-02-25 09:12:53 - INFO - Trial 751 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4200
2025-02-25 09:13:16 - INFO - Trial 752 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 09:14:17 - INFO - Trial 753 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3400
2025-02-25 09:14:50 - INFO - Trial 754 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1700
2025-02-25 09:16:28 - INFO - Trial 755 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 09:16:42 - INFO - Trial 756 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3800
2025-02-25 09:17:16 - INFO - Trial 757 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 09:17:52 - INFO - Trial 758 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 09:18:12 - INFO - Trial 759 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2800
2025-02-25 09:18:25 - INFO - Trial 760 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4400
2025-02-25 09:18:33 - INFO - Trial 761 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1100
2025-02-25 09:18:42 - INFO - Trial 762 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 09:19:20 - INFO - Trial 763 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1600
2025-02-25 09:19:43 - INFO - Trial 764 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 09:19:54 - INFO - Trial 765 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1200
2025-02-25 09:21:09 - INFO - Trial 766 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 09:21:34 - INFO - Trial 767 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1900
2025-02-25 09:21:42 - INFO - Trial 768 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2400
2025-02-25 09:22:02 - INFO - Trial 769 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3600
2025-02-25 09:22:33 - INFO - Trial 770 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4800
2025-02-25 09:23:34 - INFO - Trial 771 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 09:23:42 - INFO - Trial 772 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 09:24:09 - INFO - Trial 773 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1500
2025-02-25 09:24:16 - INFO - Trial 774 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 09:26:23 - INFO - Trial 775 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3300
2025-02-25 09:26:46 - INFO - Trial 776 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4200
2025-02-25 09:26:54 - INFO - Trial 777 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4700
2025-02-25 09:27:57 - INFO - Trial 778 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1000
2025-02-25 09:28:09 - INFO - Trial 779 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4500
2025-02-25 09:28:48 - INFO - Trial 780 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3600
2025-02-25 09:30:01 - INFO - Trial 781 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4300
2025-02-25 09:30:17 - INFO - Trial 782 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3900
2025-02-25 09:32:49 - INFO - Trial 783 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2600
2025-02-25 09:32:52 - INFO - Trial 784 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2500
2025-02-25 09:33:01 - INFO - Trial 785 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1300
2025-02-25 09:33:10 - INFO - Trial 786 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 09:33:20 - INFO - Trial 787 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 09:33:35 - INFO - Trial 788 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 09:33:47 - INFO - Trial 789 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3700
2025-02-25 09:34:01 - INFO - Trial 790 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=1800
2025-02-25 09:34:22 - INFO - Trial 791 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3500
2025-02-25 09:34:45 - INFO - Trial 792 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4600
2025-02-25 09:35:20 - INFO - Trial 793 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2000
2025-02-25 09:35:48 - INFO - Trial 794 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2300
2025-02-25 09:35:56 - INFO - Trial 795 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4400
2025-02-25 09:36:21 - INFO - Trial 796 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3400
2025-02-25 09:37:04 - INFO - Trial 797 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2200
2025-02-25 09:37:24 - INFO - Trial 798 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2700
2025-02-25 09:37:38 - INFO - Trial 799 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3100
2025-02-25 09:37:50 - INFO - Trial 800 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2900
2025-02-25 09:38:33 - INFO - Trial 801 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2100
2025-02-25 09:38:37 - INFO - Trial 802 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3000
2025-02-25 09:40:27 - INFO - Trial 803 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=4000
2025-02-25 09:40:54 - INFO - Trial 804 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=2600
2025-02-25 09:40:57 - INFO - Trial 805 parameters: loss_function=QueryRMSE, eval_metric=NDCG:top=4, iterations=3200
2025-02-25 09:41:22 - INFO - Best score: 1.0, Best params: {'bagging_temperature': 0.8, 'border_count': 171, 'depth': 6, 'early_stopping_rounds': 200, 'grow_policy': 'Lossguide', 'iterations': 3200, 'l2_leaf_reg': 9.90221801770981, 'learning_rate': 0.02297426985525152, 'min_data_in_leaf': 18, 'od_type': 'Iter', 'random_strength': 0.2889261080675591}
2025-02-25 09:45:59 - INFO - Saved model with train+valid predictions to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=4_20250225_094122.cbm
2025-02-25 09:45:59 - INFO - Evaluating model: QueryRMSE_NDCG:top=4_20250225_094122 from /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=4_20250225_094122.cbm
2025-02-25 09:45:59 - INFO - Loaded CatBoost model: /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/models/catboost/catboost_QueryRMSE_NDCG:top=4_20250225_094122.cbm
2025-02-25 09:46:00 - INFO - Final holdout_merged dataset size: (141225, 129)
2025-02-25 09:46:21 - INFO - Holdout Evaluation Results:
{
  "model_key": "QueryRMSE_NDCG:top=4_20250225_094122",
  "avg_top_4_accuracy": 0.8279602811202215,
  "avg_top_1_accuracy": 0.8520924289213077,
  "avg_top_2_accuracy": 0.9585241188371846,
  "perfect_order_percentage": 0.19412203173250986,
  "avg_ndcg_3": 1.0,
  "MRR": 0.9179222208239354,
  "spearman_corr": 0.6750913942582595,
  "RMSE": 27.436831631855107,
  "MAE": 25.673615682232434,
  "prediction_variance": 8.220150249508718,
  "total_groups_evaluated": 18782
}
2025-02-25 09:46:21 - INFO - No duplicates found in holdout_merged based on columns ['horse_id', 'group_id'].
2025-02-25 09:47:15 - INFO - Appended 141225 holdout rows to DB table 'catboost_enriched_results'.
2025-02-25 09:47:15 - INFO - Saved holdout metrics to ./data/training/holdout_metrics/holdout_metrics_QueryRMSE_NDCG:top=4_20250225_094122.json
2025-02-25 09:47:15 - INFO - === Done training & evaluating all models ===
2025-02-25 09:47:15 - INFO - Saved final_feature_cols to /home/exx/myCode/horse-racing/FoxRiverAIRacing/data/training/final_feature_cols_20250225_094715.json
2025-02-25 09:47:15 - INFO - Training 20 Catboost models Horse embedding took 34051.68507742882 to complete.
2025-02-25 09:47:16 - INFO - Spark session stopped.
2025-02-25 09:47:16 - INFO - Closing down clientserver connection
